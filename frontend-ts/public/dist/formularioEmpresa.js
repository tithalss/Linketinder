(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("formulario-empresa").addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("nome").value,d=document.getElementById("email").value,a=document.getElementById("cnpj").value,n=document.getElementById("pais").value,o=document.getElementById("estado").value,i=document.getElementById("cep").value,l=document.getElementById("descricao").value;if(!/^[a-zA-Z0-9\s]+$/.test(t))return void alert("ERRO: Nome inválido.");if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(d))return void alert("ERRO: Email inválido.");if(!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(a))return void alert("ERRO: CNPJ inválido.");if(!/^[A-Za-z\s]+$/.test(n))return void alert("ERRO: País inválido.");if(!/^[A-Za-z\s]+$/.test(o))return void alert("ERRO: Estado inválido.");if(!/^\d{5}-\d{3}$/.test(i))return void alert("ERRO: CEP inválido.");const r={id:Date.now(),nome:t,email:d,cnpj:a,pais:n,estado:o,cep:i,descricao:l};let s=JSON.parse(localStorage.getItem("empresas")||"[]");s.push(r),localStorage.setItem("empresas",JSON.stringify(s)),localStorage.setItem(`empresa-${r.id}`,JSON.stringify(r)),localStorage.setItem("empresaAtual",r.id.toString()),window.location.href="perfilEmpresa.html"}))}))})();