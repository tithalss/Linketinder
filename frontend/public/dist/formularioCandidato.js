(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("formulario-candidato").addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("nomeCompleto").value,d=document.getElementById("email").value,a=document.getElementById("cpf").value,i=document.getElementById("idade").value,n=document.getElementById("estado").value,o=document.getElementById("cep").value,l=document.getElementById("cargo").value,r=document.getElementById("competencias").value;if(!/^[a-zA-Z\s]+$/.test(t))return void alert("ERRO: Nome inválido.");if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(d))return void alert("ERRO: Email inválido.");if(!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(a))return void alert("ERRO: CPF inválido.");if(!/^\d+$/.test(i)||parseInt(i,10)<0)return void alert("ERRO: Idade inválida.");if(!/^\d{5}-\d{3}$/.test(o))return void alert("ERRO: CEP inválido.");if(!/^[a-zA-Z\s]+$/.test(l))return void alert("ERRO: Cargo inválido.");if(!/^([a-zA-Z0-9\s]+)(,\s*[a-zA-Z0-9\s]+)*$/.test(r))return void alert("ERRO: Competências inválidas.");const m={id:Date.now(),nome:t,email:d,cpf:a,idade:i,estado:n,cep:o,cargo:l,competencias:r.split(",").map((e=>e.trim()))};let s=JSON.parse(localStorage.getItem("candidatos")||"[]");s.push(m),localStorage.setItem("candidatos",JSON.stringify(s)),localStorage.setItem(`candidato-${m.id}`,JSON.stringify(m)),localStorage.setItem("candidatoAtual",m.id.toString()),window.location.href="perfilCandidato.html"}))}))})();